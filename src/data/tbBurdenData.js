// TB Burden Country Dataset
// Based on WHO Global TB Report structure with realistic data

export const tbBurdenData = [
  // High TB burden countries
  {
    country: 'India',
    region: 'South-East Asia',
    population: 1380004385,
    incidence: 199,
    mortality: 32,
    prevalence: 267,
    notification: 2640000,
    treatment_success: 85,
    mdr_tb: 130000,
    hiv_tb: 86000,
    pediatric_tb: 240000,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'SEAR',
    latitude: 20.5937,
    longitude: 78.9629
  },
  {
    country: 'Indonesia',
    region: 'South-East Asia',
    population: 273523615,
    incidence: 354,
    mortality: 38,
    prevalence: 498,
    notification: 969000,
    treatment_success: 87,
    mdr_tb: 24000,
    hiv_tb: 36000,
    pediatric_tb: 120000,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'SEAR',
    latitude: -0.7893,
    longitude: 113.9213
  },
  {
    country: 'China',
    region: 'Western Pacific',
    population: 1439323776,
    incidence: 55,
    mortality: 2.3,
    prevalence: 66,
    notification: 780000,
    treatment_success: 94,
    mdr_tb: 66000,
    hiv_tb: 8900,
    pediatric_tb: 19000,
    year: 2023,
    income_group: 'Upper middle income',
    who_region: 'WPR',
    latitude: 35.8617,
    longitude: 104.1954
  },
  {
    country: 'Philippines',
    region: 'Western Pacific',
    population: 109581078,
    incidence: 554,
    mortality: 27,
    prevalence: 650,
    notification: 590000,
    treatment_success: 91,
    mdr_tb: 19000,
    hiv_tb: 4100,
    pediatric_tb: 42000,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'WPR',
    latitude: 12.8797,
    longitude: 121.7740
  },
  {
    country: 'Pakistan',
    region: 'Eastern Mediterranean',
    population: 220892340,
    incidence: 263,
    mortality: 27,
    prevalence: 342,
    notification: 580000,
    treatment_success: 93,
    mdr_tb: 27000,
    hiv_tb: 1200,
    pediatric_tb: 54000,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'EMR',
    latitude: 30.3753,
    longitude: 69.3451
  },
  {
    country: 'Nigeria',
    region: 'Africa',
    population: 206139589,
    incidence: 219,
    mortality: 63,
    prevalence: 308,
    notification: 450000,
    treatment_success: 86,
    mdr_tb: 4500,
    hiv_tb: 170000,
    pediatric_tb: 43000,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'AFR',
    latitude: 9.0820,
    longitude: 8.6753
  },
  {
    country: 'Bangladesh',
    region: 'South-East Asia',
    population: 164689383,
    incidence: 221,
    mortality: 45,
    prevalence: 364,
    notification: 364000,
    treatment_success: 93,
    mdr_tb: 5100,
    hiv_tb: 1100,
    pediatric_tb: 32000,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'SEAR',
    latitude: 23.6850,
    longitude: 90.3563
  },
  {
    country: 'South Africa',
    region: 'Africa',
    population: 59308690,
    incidence: 513,
    mortality: 78,
    prevalence: 610,
    notification: 280000,
    treatment_success: 77,
    mdr_tb: 11000,
    hiv_tb: 160000,
    pediatric_tb: 12000,
    year: 2023,
    income_group: 'Upper middle income',
    who_region: 'AFR',
    latitude: -30.5595,
    longitude: 22.9375
  },
  {
    country: 'Ethiopia',
    region: 'Africa',
    population: 114963588,
    incidence: 240,
    mortality: 67,
    prevalence: 395,
    notification: 240000,
    treatment_success: 84,
    mdr_tb: 2500,
    hiv_tb: 25000,
    pediatric_tb: 28000,
    year: 2023,
    income_group: 'Low income',
    who_region: 'AFR',
    latitude: 9.1450,
    longitude: 40.4897
  },
  {
    country: 'Myanmar',
    region: 'South-East Asia',
    population: 54409800,
    incidence: 322,
    mortality: 50,
    prevalence: 434,
    notification: 175000,
    treatment_success: 88,
    mdr_tb: 9500,
    hiv_tb: 13000,
    pediatric_tb: 16000,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'SEAR',
    latitude: 21.9162,
    longitude: 95.9560
  },
  {
    country: 'Brazil',
    region: 'Americas',
    population: 212559417,
    incidence: 46,
    mortality: 2.2,
    prevalence: 50,
    notification: 97000,
    treatment_success: 73,
    mdr_tb: 1800,
    hiv_tb: 12000,
    pediatric_tb: 4200,
    year: 2023,
    income_group: 'Upper middle income',
    who_region: 'AMR',
    latitude: -14.2350,
    longitude: -51.9253
  },
  {
    country: 'Vietnam',
    region: 'Western Pacific',
    population: 97338579,
    incidence: 182,
    mortality: 27,
    prevalence: 310,
    notification: 174000,
    treatment_success: 94,
    mdr_tb: 4100,
    hiv_tb: 3900,
    pediatric_tb: 8800,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'WPR',
    latitude: 14.0583,
    longitude: 108.2772
  },
  {
    country: 'Cambodia',
    region: 'Western Pacific',
    population: 16718965,
    incidence: 302,
    mortality: 54,
    prevalence: 477,
    notification: 48000,
    treatment_success: 94,
    mdr_tb: 540,
    hiv_tb: 1700,
    pediatric_tb: 3200,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'WPR',
    latitude: 12.5657,
    longitude: 104.9910
  },
  {
    country: 'Thailand',
    region: 'South-East Asia',
    population: 69799978,
    incidence: 153,
    mortality: 9.7,
    prevalence: 187,
    notification: 107000,
    treatment_success: 86,
    mdr_tb: 2800,
    hiv_tb: 13000,
    pediatric_tb: 3800,
    year: 2023,
    income_group: 'Upper middle income',
    who_region: 'SEAR',
    latitude: 15.8700,
    longitude: 100.9925
  },
  {
    country: 'Kenya',
    region: 'Africa',
    population: 53771296,
    incidence: 292,
    mortality: 58,
    prevalence: 393,
    notification: 157000,
    treatment_success: 87,
    mdr_tb: 1700,
    hiv_tb: 40000,
    pediatric_tb: 11000,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'AFR',
    latitude: -0.0236,
    longitude: 37.9062
  },
  {
    country: 'Tanzania',
    region: 'Africa',
    population: 59734218,
    incidence: 253,
    mortality: 36,
    prevalence: 295,
    notification: 151000,
    treatment_success: 88,
    mdr_tb: 1100,
    hiv_tb: 37000,
    pediatric_tb: 13000,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'AFR',
    latitude: -6.3690,
    longitude: 34.8888
  },
  {
    country: 'Democratic Republic of Congo',
    region: 'Africa',
    population: 89561403,
    incidence: 289,
    mortality: 30,
    prevalence: 363,
    notification: 140000,
    treatment_success: 85,
    mdr_tb: 3000,
    hiv_tb: 13000,
    pediatric_tb: 22000,
    year: 2023,
    income_group: 'Low income',
    who_region: 'AFR',
    latitude: -4.0383,
    longitude: 21.7587
  },
  {
    country: 'Mozambique',
    region: 'Africa',
    population: 31255435,
    incidence: 361,
    mortality: 79,
    prevalence: 481,
    notification: 113000,
    treatment_success: 90,
    mdr_tb: 3400,
    hiv_tb: 64000,
    pediatric_tb: 9100,
    year: 2023,
    income_group: 'Low income',
    who_region: 'AFR',
    latitude: -18.6657,
    longitude: 35.5296
  },
  {
    country: 'Angola',
    region: 'Africa',
    population: 32866272,
    incidence: 238,
    mortality: 59,
    prevalence: 326,
    notification: 78000,
    treatment_success: 73,
    mdr_tb: 2100,
    hiv_tb: 11000,
    pediatric_tb: 8900,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'AFR',
    latitude: -11.2027,
    longitude: 17.8739
  },
  {
    country: 'Zambia',
    region: 'Africa',
    population: 18383955,
    incidence: 346,
    mortality: 86,
    prevalence: 455,
    notification: 64000,
    treatment_success: 88,
    mdr_tb: 930,
    hiv_tb: 36000,
    pediatric_tb: 4800,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'AFR',
    latitude: -13.1339,
    longitude: 27.8493
  },
  {
    country: 'Zimbabwe',
    region: 'Africa',
    population: 14862924,
    incidence: 210,
    mortality: 87,
    prevalence: 253,
    notification: 31000,
    treatment_success: 86,
    mdr_tb: 1600,
    hiv_tb: 22000,
    pediatric_tb: 2500,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'AFR',
    latitude: -19.0154,
    longitude: 29.1549
  },
  {
    country: 'Uganda',
    region: 'Africa',
    population: 45741007,
    incidence: 200,
    mortality: 28,
    prevalence: 253,
    notification: 91000,
    treatment_success: 77,
    mdr_tb: 1200,
    hiv_tb: 24000,
    pediatric_tb: 8200,
    year: 2023,
    income_group: 'Low income',
    who_region: 'AFR',
    latitude: 1.3733,
    longitude: 32.2903
  },
  {
    country: 'Gabon',
    region: 'Africa',
    population: 2225734,
    incidence: 520,
    mortality: 45,
    prevalence: 659,
    notification: 12000,
    treatment_success: 82,
    mdr_tb: 170,
    hiv_tb: 4800,
    pediatric_tb: 890,
    year: 2023,
    income_group: 'Upper middle income',
    who_region: 'AFR',
    latitude: -0.8037,
    longitude: 11.6094
  },
  {
    country: 'Lesotho',
    region: 'Africa',
    population: 2142249,
    incidence: 665,
    mortality: 87,
    prevalence: 692,
    notification: 14000,
    treatment_success: 64,
    mdr_tb: 540,
    hiv_tb: 9100,
    pediatric_tb: 680,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'AFR',
    latitude: -29.6100,
    longitude: 28.2336
  },
  {
    country: 'Central African Republic',
    region: 'Africa',
    population: 4829767,
    incidence: 420,
    mortality: 73,
    prevalence: 597,
    notification: 20000,
    treatment_success: 70,
    mdr_tb: 78,
    hiv_tb: 9200,
    pediatric_tb: 1800,
    year: 2023,
    income_group: 'Low income',
    who_region: 'AFR',
    latitude: 6.6111,
    longitude: 20.9394
  },
  {
    country: 'North Korea',
    region: 'South-East Asia',
    population: 25778816,
    incidence: 513,
    mortality: 71,
    prevalence: 345,
    notification: 130000,
    treatment_success: 85,
    mdr_tb: 5000,
    hiv_tb: 540,
    pediatric_tb: 12000,
    year: 2023,
    income_group: 'Low income',
    who_region: 'SEAR',
    latitude: 40.3399,
    longitude: 127.5101
  },
  {
    country: 'Papua New Guinea',
    region: 'Western Pacific',
    population: 8947024,
    incidence: 432,
    mortality: 72,
    prevalence: 540,
    notification: 39000,
    treatment_success: 69,
    mdr_tb: 2700,
    hiv_tb: 7800,
    pediatric_tb: 3500,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'WPR',
    latitude: -6.3150,
    longitude: 143.9555
  },
  {
    country: 'Mongolia',
    region: 'Western Pacific',
    population: 3278290,
    incidence: 428,
    mortality: 15,
    prevalence: 540,
    notification: 14000,
    treatment_success: 85,
    mdr_tb: 1400,
    hiv_tb: 28,
    pediatric_tb: 780,
    year: 2023,
    income_group: 'Lower middle income',
    who_region: 'WPR',
    latitude: 46.8625,
    longitude: 103.8467
  },
  {
    country: 'Liberia',
    region: 'Africa',
    population: 5057681,
    incidence: 308,
    mortality: 72,
    prevalence: 308,
    notification: 16000,
    treatment_success: 91,
    mdr_tb: 110,
    hiv_tb: 930,
    pediatric_tb: 1400,
    year: 2023,
    income_group: 'Low income',
    who_region: 'AFR',
    latitude: 6.4281,
    longitude: -9.4295
  },
  {
    country: 'Sierra Leone',
    region: 'Africa',
    population: 7976983,
    incidence: 298,
    mortality: 67,
    prevalence: 360,
    notification: 24000,
    treatment_success: 89,
    mdr_tb: 170,
    hiv_tb: 1600,
    pediatric_tb: 2200,
    year: 2023,
    income_group: 'Low income',
    who_region: 'AFR',
    latitude: 8.4606,
    longitude: -11.7799
  }
];

// Historical data for trend analysis (2019-2023)
export const tbHistoricalData = [
  { year: 2019, global_incidence: 130, global_mortality: 16, global_cases: 10000000 },
  { year: 2020, global_incidence: 127, global_mortality: 15.3, global_cases: 9900000 },
  { year: 2021, global_incidence: 134, global_mortality: 17.5, global_cases: 10600000 },
  { year: 2022, global_incidence: 133, global_mortality: 16.9, global_cases: 10500000 },
  { year: 2023, global_incidence: 131, global_mortality: 16.2, global_cases: 10300000 }
];

// WHO regions data
export const whoRegions = [
  { code: 'AFR', name: 'Africa', color: '#FF6B6B' },
  { code: 'AMR', name: 'Americas', color: '#4ECDC4' },
  { code: 'SEAR', name: 'South-East Asia', color: '#45B7D1' },
  { code: 'EUR', name: 'Europe', color: '#96CEB4' },
  { code: 'EMR', name: 'Eastern Mediterranean', color: '#FFEAA7' },
  { code: 'WPR', name: 'Western Pacific', color: '#DDA0DD' }
];

// Income group classifications
export const incomeGroups = [
  { name: 'Low income', color: '#E74C3C', countries: [] },
  { name: 'Lower middle income', color: '#F39C12', countries: [] },
  { name: 'Upper middle income', color: '#F1C40F', countries: [] },
  { name: 'High income', color: '#2ECC71', countries: [] }
];

// Statistical calculations
export const calculateStatistics = () => {
  const stats = {
    totalCases: tbBurdenData.reduce((sum, country) => sum + (country.notification || 0), 0),
    totalDeaths: tbBurdenData.reduce((sum, country) => sum + (country.mortality * country.population / 100000), 0),
    avgIncidence: tbBurdenData.reduce((sum, country) => sum + country.incidence, 0) / tbBurdenData.length,
    avgMortality: tbBurdenData.reduce((sum, country) => sum + country.mortality, 0) / tbBurdenData.length,
    avgTreatmentSuccess: tbBurdenData.reduce((sum, country) => sum + country.treatment_success, 0) / tbBurdenData.length,
    totalMdrTb: tbBurdenData.reduce((sum, country) => sum + (country.mdr_tb || 0), 0),
    totalHivTb: tbBurdenData.reduce((sum, country) => sum + (country.hiv_tb || 0), 0),
    totalPediatricTb: tbBurdenData.reduce((sum, country) => sum + (country.pediatric_tb || 0), 0),
  };

  return stats;
};

// Data aggregation by region
export const aggregateByRegion = () => {
  const regionStats = {};
  
  tbBurdenData.forEach(country => {
    const region = country.who_region;
    if (!regionStats[region]) {
      regionStats[region] = {
        name: whoRegions.find(r => r.code === region)?.name || region,
        countries: 0,
        totalCases: 0,
        totalDeaths: 0,
        avgIncidence: 0,
        avgMortality: 0,
        color: whoRegions.find(r => r.code === region)?.color || '#999'
      };
    }
    
    regionStats[region].countries += 1;
    regionStats[region].totalCases += country.notification || 0;
    regionStats[region].totalDeaths += (country.mortality * country.population / 100000);
    regionStats[region].avgIncidence += country.incidence;
    regionStats[region].avgMortality += country.mortality;
  });

  // Calculate averages
  Object.keys(regionStats).forEach(region => {
    regionStats[region].avgIncidence /= regionStats[region].countries;
    regionStats[region].avgMortality /= regionStats[region].countries;
  });

  return regionStats;
};

// High burden countries (top 30)
export const highBurdenCountries = tbBurdenData
  .sort((a, b) => (b.notification || 0) - (a.notification || 0))
  .slice(0, 30);

// Export all data and functions
export default {
  tbBurdenData,
  tbHistoricalData,
  whoRegions,
  incomeGroups,
  calculateStatistics,
  aggregateByRegion,
  highBurdenCountries
};